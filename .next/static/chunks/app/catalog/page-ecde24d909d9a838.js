(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[43],{9934:(e,t,s)=>{Promise.resolve().then(s.bind(s,2857))},2857:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(7437),l=s(2265),i=s(7138),r=s(2200);function c(e){let{product:t}=e,s=(0,r.x)(e=>e.addItem);return(0,a.jsxs)("article",{className:"bg-[#1e1e1e] text-[#f5f5f5] border border-[#2d2d2d] rounded-2xl shadow-lg p-6 flex flex-col gap-9",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{src:t.image||"/images/placeholder.png",className:"h-44 w-full object-cover rounded mb-3"}),(0,a.jsx)("h3",{className:"font-semibold",children:t.name}),(0,a.jsx)("p",{className:"text-sm truncate",children:t.description})]}),(0,a.jsxs)("div",{className:"mt-auto flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-bold",children:["S/.",t.price.toFixed(2)]}),(0,a.jsxs)("div",{className:"text-xs",children:["Stock: ",t.stock]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("button",{className:"px-3 py-1 bg-[#2563eb] hover:bg-[#1d4ed8] rounded",onClick:()=>s({id:t.id,name:t.name,price:t.price,quantity:1,image:t.image}),disabled:t.stock<=0,children:"A\xf1adir"}),(0,a.jsx)(i.default,{href:"/product/".concat(t.id),className:"text-sm underline",children:"Ver"})]})]})]})}function d(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)([]),[r,d]=(0,l.useState)(""),[n,o]=(0,l.useState)(""),[m,u]=(0,l.useState)("");return(0,l.useEffect)(()=>{(async function(){let e=await fetch("".concat("/api","/products"),{cache:"no-store"}),s=await e.json();t(s),i(s)})()},[]),(0,l.useEffect)(()=>{let t=e;if(r.trim()&&(t=t.filter(e=>e.name.toLowerCase().includes(r.toLowerCase()))),""!==n||""!==m){let e=parseFloat(n)||0,s=parseFloat(m)||Number.MAX_VALUE;t=t.filter(t=>t.price>=e&&t.price<=s)}i(t)},[r,n,m,e]),(0,a.jsxs)("section",{className:"px-14 py-10 text-white",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8 gap-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"Cat\xe1logo"}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 bg-gray-800 p-4 rounded-lg shadow-lg",children:[(0,a.jsx)("input",{type:"text",placeholder:"Buscar producto...",className:"px-3 py-2 rounded-lg text-black",value:r,onChange:e=>d(e.target.value)}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"number",placeholder:"Precio m\xedn.",className:"px-3 py-2 w-28 rounded-lg text-black",value:n,onChange:e=>o(e.target.value)}),(0,a.jsx)("span",{children:"-"}),(0,a.jsx)("input",{type:"number",placeholder:"Precio m\xe1x.",className:"px-3 py-2 w-28 rounded-lg text-black",value:m,onChange:e=>u(e.target.value)})]}),(0,a.jsx)("button",{onClick:()=>{d(""),o(""),u(""),i(e)},className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg transition",children:"Limpiar"})]})]}),0===s.length?(0,a.jsx)("p",{className:"text-gray-300 mt-6",children:"No se encontraron productos."}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,a.jsx)(c,{product:e},e.id))})]})}},7138:(e,t,s)=>{"use strict";s.d(t,{default:()=>l.a});var a=s(231),l=s.n(a)},2200:(e,t,s)=>{"use strict";s.d(t,{x:()=>i});var a=s(9099),l=s(9291);let i=(0,a.Ue)()((0,l.tJ)((e,t)=>({items:[],addItem:t=>e(e=>e.items.find(e=>e.id===t.id)?{items:e.items.map(e=>e.id===t.id?{...e,quantity:e.quantity+t.quantity}:e)}:{items:[...e.items,t]}),updateItem:(t,s)=>e(e=>({items:e.items.map(e=>e.id===t?{...e,quantity:s}:e)})),removeItem:t=>e(e=>({items:e.items.filter(e=>e.id!==t)})),clearCart:()=>e({items:[]}),total:()=>t().items.reduce((e,t)=>e+t.price*t.quantity,0)}),{name:"min-commerce-cart",storage:(0,l.FL)(()=>localStorage)}))}},e=>{var t=t=>e(e.s=t);e.O(0,[151,231,130,215,744],()=>t(9934)),_N_E=e.O()}]);